@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

/* Custom utilities for line clamping */
@layer utilities {
  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }
}

/* Enhanced Loading Animations */
@layer utilities {
  /* Shimmer Animation */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite linear;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    background-size: 200% 100%;
  }

  .dark .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.1),
      transparent
    );
    background-size: 200% 100%;
  }

  /* Wave Animation */
  @keyframes wave {
    0%,
    40%,
    100% {
      transform: scaleY(0.4);
    }
    20% {
      transform: scaleY(1);
    }
  }

  .animate-wave {
    animation: wave 1.2s infinite ease-in-out;
  }

  /* Fade In Animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.5s ease-out;
  }

  /* Scale In Animation */
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-scaleIn {
    animation: scaleIn 0.3s ease-out;
  }

  /* Slide In Animation */
  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slideInUp {
    animation: slideInUp 0.4s ease-out;
  }

  /* Skeleton Pulse Enhanced */
  @keyframes skeletonPulse {
    0% {
      opacity: 1;
    }
    50% {
      opacity: 0.4;
    }
    100% {
      opacity: 1;
    }
  }

  .animate-skeleton {
    animation: skeletonPulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Loading Dots */
  @keyframes loadingDots {
    0%,
    80%,
    100% {
      transform: scale(0);
      opacity: 0.5;
    }
    40% {
      transform: scale(1);
      opacity: 1;
    }
  }

  .animate-loadingDots {
    animation: loadingDots 1.4s infinite ease-in-out both;
  }

  /* Bounce Enhanced */
  @keyframes bounceEnhanced {
    0%,
    20%,
    53%,
    80%,
    100% {
      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
      transform: translate3d(0, 0, 0);
    }
    40%,
    43% {
      animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
      transform: translate3d(0, -8px, 0);
    }
    70% {
      animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
      transform: translate3d(0, -4px, 0);
    }
    90% {
      transform: translate3d(0, -2px, 0);
    }
  }

  .animate-bounceEnhanced {
    animation: bounceEnhanced 1s infinite;
  }

  /* Progress Bar Animation */
  @keyframes progressBar {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  .animate-progressBar {
    animation: progressBar 2s infinite linear;
  }

  /* Glow Animation */
  @keyframes glow {
    0%,
    100% {
      box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
    }
    50% {
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.8);
    }
  }

  .animate-glow {
    animation: glow 2s infinite ease-in-out;
  }
}

/* Smooth transitions for loading states */
@layer components {
  .loading-transition {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .loading-overlay {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(4px);
  }

  .dark .loading-overlay {
    background: rgba(17, 24, 39, 0.8);
  }

  .skeleton-base {
    @apply bg-gray-200 dark:bg-gray-700 animate-pulse rounded;
  }

  .skeleton-shimmer {
    @apply bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700;
    background-size: 200% 100%;
    animation: shimmer 2s infinite linear;
  }
}
